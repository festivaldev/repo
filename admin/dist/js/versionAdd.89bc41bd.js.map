{"version":3,"sources":["webpack:///./src/views/VersionAdd.vue?724d","webpack:///src/views/VersionAdd.vue","webpack:///./src/views/VersionAdd.vue?e942","webpack:///./src/views/VersionAdd.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","packageData","status","_e","_v","_s","name","attrs","disabled","$v","$anyDirty","on","click","$event","cancel","$invalid","saveVersion","title","$route","params","packageId","novalidate","directives","rawName","value","versionData","expression","type","placeholder","maxlength","autocomplete","isDoingWork","domProps","input","target","composing","$set","$touch","version","length","staticStyle","height","_m","changeText","class","checkboxName","model","callback","$$v","selectedPackageFile","staticRenderFns","VersionAddvue_type_script_lang_js_","components","Nav","PackageFileSelector","SwitchCheckbox","data","visible","validations","required","validators","created","_created","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","_packageData","wrap","_context","prev","next","ApiUtil","getPackage","sent","stop","apply","arguments","mounted","window","scrollTo","methods","selectPackage","e","files","_this","self","bootbox","confirm","message","buttons","label","className","_callback","_callee2","result","_context2","$router","replace","concat","_x","_saveVersion","_callee3","createdVersion","fileUploadResult","_context3","addVersion","uploadPackageFile","id","alert","views_VersionAddvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/versionAdd.89bc41bd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-3\"},[_c('Nav')],1),_c('div',{staticClass:\"col-md-9\"},[(!_vm.packageData || !_vm.packageData.status)?_c('div',[_c('div',{staticClass:\"dashhead mb-3\"},[_c('div',{staticClass:\"dashhead-titles\"},[_c('h6',{staticClass:\"dashhead-subtitle\"},[_vm._v(_vm._s(_vm.packageData.name)+\" – Versions\")]),_c('h2',{staticClass:\"dashhead-title\"},[_vm._v(\"New Version\")])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-6 text-left\"},[_c('button',{staticClass:\"btn btn-danger\",attrs:{\"disabled\":!_vm.$v.$anyDirty},on:{\"click\":function($event){_vm.cancel()}}},[_c('span',{staticClass:\"icon icon-squared-cross\"}),_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\tCancel\\n\\t\\t\\t\\t\\t\\t\")])]),_c('div',{staticClass:\"col-6 row p-0 justify-content-end text-right\"},[(_vm.isDoingWork)?_c('div',{staticClass:\"col p-0 pr-3\"},[_c('div',{staticClass:\"loading-indicator\"})]):_vm._e(),_c('div',{staticClass:\"col-auto p-0\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"disabled\":_vm.$v.$invalid || !_vm.$v.$anyDirty},on:{\"click\":function($event){_vm.saveVersion()}}},[_c('span',{staticClass:\"icon icon-save\"}),_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\tSave\\n\\t\\t\\t\\t\\t\\t\\t\")])])])])]):_vm._e(),(_vm.packageData && _vm.packageData.status == 404)?_c('div',[_c('vue-headful',{attrs:{\"title\":\"Package not found – FESTIVAL Pack'd\"}}),_c('h4',[_vm._v(\"Package not found\")]),_c('p',[_vm._v(\"Could not retrieve info for package \\\"\"+_vm._s(_vm.$route.params.packageId)+\"\\\"\")])],1):_vm._e(),(_vm.packageData && !_vm.packageData.status)?_c('div',[_c('vue-headful',{attrs:{\"title\":\"Add Version – FESTIVAL Pack'd\"}}),_c('form',{attrs:{\"name\":\"addVersionForm\",\"novalidate\":\"\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6 form-group\"},[_c('h4',{staticClass:\"my-4\"},[_vm._v(\"Version Info\")]),_c('label',[_vm._v(\"Version Number\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.versionData.version),expression:\"versionData.version\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"1.0\",\"maxlength\":\"50\",\"autocomplete\":\"off\",\"disabled\":_vm.isDoingWork},domProps:{\"value\":(_vm.versionData.version)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.versionData, \"version\", $event.target.value)},function($event){_vm.$v.$touch()}]}}),_c('p',{staticClass:\"text-muted text-right m-b-0\"},[_vm._v(_vm._s(50 - _vm.versionData.version.length))]),_c('label',[_vm._v(\"Description\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.versionData.changeText),expression:\"versionData.changeText\"}],staticClass:\"form-control\",staticStyle:{\"height\":\"250px\"},attrs:{\"maxlength\":\"4000\",\"autocomplete\":\"off\",\"disabled\":_vm.isDoingWork},domProps:{\"value\":(_vm.versionData.changeText)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.versionData, \"changeText\", $event.target.value)},function($event){_vm.$v.$touch()}]}}),_c('div',{staticClass:\"row\"},[_vm._m(0),_c('div',{staticClass:\"col-3\"},[_c('p',{staticClass:\"text-muted text-right m-b-0\"},[_vm._v(_vm._s(4000 - _vm.versionData.changeText.length))])])])]),_c('div',{staticClass:\"list-group col-md-6 m-b px-3\"},[_c('h4',{staticClass:\"mb-4 mt-md-4\"},[_vm._v(\"Options\")]),_c('div',{staticClass:\"list-group-item d-flex justify-content-between align-items-center\"},[_vm._m(1),_c('div',{staticClass:\"col-auto p-0\"},[_c('SwitchCheckbox',{class:{'disabled': _vm.isDoingWork},attrs:{\"checkboxName\":\"visible\"},on:{\"input\":function($event){_vm.$v.$touch()}},model:{value:(_vm.packageData.visible),callback:function ($$v) {_vm.$set(_vm.packageData, \"visible\", $$v)},expression:\"packageData.visible\"}})],1)]),_c('div',{staticClass:\"row mt-4\"},[_c('div',{staticClass:\"col-6 mt-4 mt-md-0\"},[_c('h4',{staticClass:\"mb-4\"},[_vm._v(\"Package File\")]),_c('PackageFileSelector',{class:{'disabled': _vm.isDoingWork},on:{\"input\":function($event){_vm.$v.$touch()}},model:{value:(_vm.selectedPackageFile),callback:function ($$v) {_vm.selectedPackageFile=$$v},expression:\"selectedPackageFile\"}})],1)])])])])],1):_vm._e()])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-9\"},[_c('p',{staticClass:\"text-muted text-left m-b-0\"},[_vm._v(\"Descriptions support HTML\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-auto p-0\"},[_c('p',{staticClass:\"m-0\"},[_vm._v(\"Version is visible\")])])}]\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"container\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-md-3\">\n\t\t\t\t<Nav />\n\t\t\t</div>\n\t\t\t<div class=\"col-md-9\">\n\t\t\t\t<div v-if=\"!packageData || !packageData.status\">\n\t\t\t\t\t<div class=\"dashhead mb-3\">\n\t\t\t\t\t\t<div class=\"dashhead-titles\">\n\t\t\t\t\t\t\t<h6 class=\"dashhead-subtitle\">{{packageData.name}} – Versions</h6>\n\t\t\t\t\t\t\t<h2 class=\"dashhead-title\">New Version</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-6 text-left\">\n\t\t\t\t\t\t\t<button class=\"btn btn-danger\" :disabled=\"!$v.$anyDirty\" @click=\"cancel()\">\n\t\t\t\t\t\t\t\t<span class=\"icon icon-squared-cross\" />\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-6 row p-0 justify-content-end text-right\">\n\t\t\t\t\t\t\t<div class=\"col p-0 pr-3\" v-if=\"isDoingWork\">\n\t\t\t\t\t\t\t\t<div class=\"loading-indicator\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-auto p-0\">\n\t\t\t\t\t\t\t\t<button class=\"btn btn-primary\" @click=\"saveVersion()\" :disabled=\"$v.$invalid || !$v.$anyDirty\">\n\t\t\t\t\t\t\t\t\t<span class=\"icon icon-save\" />\n\t\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div v-if=\"packageData && packageData.status == 404\">\n\t\t\t\t\t<vue-headful title=\"Package not found – FESTIVAL Pack'd\" />\n\t\t\t\t\t<h4>Package not found</h4>\n\t\t\t\t\t<p>Could not retrieve info for package \"{{ $route.params.packageId }}\"</p>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div v-if=\"packageData && !packageData.status\">\n\t\t\t\t\t<vue-headful title=\"Add Version – FESTIVAL Pack'd\" />\n\t\t\t\t\t<form name=\"addVersionForm\" novalidate>\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"col-md-6 form-group\">\n\t\t\t\t\t\t\t\t<h4 class=\"my-4\">Version Info</h4>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<label>Version Number</label>\n\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" placeholder=\"1.0\" v-model=\"versionData.version\" maxlength=\"50\" autocomplete=\"off\" @input=\"$v.$touch()\" :disabled=\"isDoingWork\">\n\t\t\t\t\t\t\t\t<p class=\"text-muted text-right m-b-0\">{{50 - versionData.version.length}}</p>\n\n\t\t\t\t\t\t\t\t<label>Description</label>\n\t\t\t\t\t\t\t\t<textarea class=\"form-control\" v-model=\"versionData.changeText\" maxlength=\"4000\" autocomplete=\"off\" @input=\"$v.$touch()\" style=\"height: 250px\" :disabled=\"isDoingWork\" />\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t\t<div class=\"col-9\">\n\t\t\t\t\t\t\t\t\t\t<p class=\"text-muted text-left m-b-0\">Descriptions support HTML</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t\t\t<p class=\"text-muted text-right m-b-0\">{{4000 - versionData.changeText.length}}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class=\"list-group col-md-6 m-b px-3\">\n\t\t\t\t\t\t\t\t<h4 class=\"mb-4 mt-md-4\">Options</h4>\n\t\t\t\t\t\t\t\t<div class=\"list-group-item d-flex justify-content-between align-items-center\">\n\t\t\t\t\t\t\t\t\t<div class=\"col-auto p-0\">\n\t\t\t\t\t\t\t\t\t\t<p class=\"m-0\">Version is visible</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-auto p-0\">\n\t\t\t\t\t\t\t\t\t\t<SwitchCheckbox :class=\"{'disabled': isDoingWork}\" checkboxName=\"visible\" v-model=\"packageData.visible\" @input=\"$v.$touch()\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div class=\"row mt-4\">\n\t\t\t\t\t\t\t\t\t<div class=\"col-6 mt-4 mt-md-0\">\n\t\t\t\t\t\t\t\t\t\t<h4 class=\"mb-4\">Package File</h4>\n\t\t\t\t\t\t\t\t\t\t<PackageFileSelector :class=\"{'disabled': isDoingWork}\" v-model=\"selectedPackageFile\" @input=\"$v.$touch()\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<!--<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"col-sm-6 col-xl-3 mt-4 mt-md-0\">\n\t\t\t\t\t\t\t\t<h4 class=\"mb-4\">Package File</h4>\n\t\t\t\t\t\t\t\t<input type=\"file\" ref=\"packageSelector\" accept=\"application/vnd.debian.binary-package, application/x-deb, .deb\" @change=\"selectPackage\" required>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<h4 class=\"my-4\">Version Release</h4>\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t\t\t\t<div class=\"form-check my-2\">\n\t\t\t\t\t\t\t\t\t<input class=\"form-check-input\" type=\"radio\" name=\"releaseType\" id=\"releaseManually\" :value=\"false\" v-model=\"versionData.visible\">\n\t\t\t\t\t\t\t\t\t<label class=\"form-check-label\" for=\"releaseManually\">Manually release this version</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"form-check my-2\">\n\t\t\t\t\t\t\t\t\t<input class=\"form-check-input\" type=\"radio\" name=\"releaseType\" id=\"releaseAutomatically\" :value=\"true\" v-model=\"versionData.visible\">\n\t\t\t\t\t\t\t\t\t<label class=\"form-check-label\" for=\"releaseAutomatically\">Automatically release this version</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>-->\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Nav from '@/components/Nav.vue'\nimport PackageFileSelector from '@/components/PackageFileSelector'\nimport SwitchCheckbox from '@/components/SwitchCheckbox.vue'\nimport { PackageAPI } from '@/scripts/ApiUtil'\nimport { required } from 'vuelidate/lib/validators'\n\nexport default {\n\tname: \"versionAdd\",\n\tcomponents: {\n\t\tNav,\n\t\tPackageFileSelector,\n\t\tSwitchCheckbox\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpackageData: null,\n\t\t\tversionData: {\n\t\t\t\tversion: \"\",\n\t\t\t\tchangeText: \"\",\n\t\t\t\tvisible: true\n\t\t\t},\n\t\t\tselectedPackageFile: null,\n\t\t\tisDoingWork: false\n\t\t}\n\t},\n\tvalidations: {\n\t\tversionData: {\n\t\t\tversion: { required },\n\t\t\tchangeText: { required }\n\t\t},\n\t\tselectedPackageFile: { required }\n\t},\n\tasync created() {\n\t\tthis.isDoingWork = true;\n\t\t\n\t\tlet _packageData = await PackageAPI.getPackage(this.$route.params.packageId);\n\t\tif (_packageData.status == 200) {\n\t\t\tthis.packageData = _packageData.data;\n\t\t\tthis.isDoingWork = false;\n\t\t} else {\n\t\t\tthis.isDoingWork = false;\n\t\t\tthis.packageData = {\n\t\t\t\tstatus: _packageData.status\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\twindow.scrollTo(0,0);\n\t},\n\tmethods: {\n\t\tselectPackage(e) {\n\t\t\tthis.$v.$touch();\n\t\t\tthis.selectedPackageFile = e.target.files[0];\n\t\t},\n\t\tcancel() {\n\t\t\tconst self = this;\n\t\t\tbootbox.confirm({\n\t\t\t\ttitle: \"Canel?\",\n\t\t\t\tmessage: \"Are you sure you want to cancel? All unsaved progress will be lost.\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tconfirm: {\n\t\t\t\t\t\tlabel: 'OK',\n\t\t\t\t\t\tclassName: 'btn-danger'\n\t\t\t\t\t},\n\t\t\t\t\tcancel: {\n\t\t\t\t\t\tlabel: 'Cancel',\n\t\t\t\t\t\tclassName: 'btn-secondary'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcallback: async (result) => {\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\tself.$router.replace(`/packages/${this.$route.params.packageId}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tasync saveVersion() {\n\t\t\tthis.isDoingWork = true;\n\t\t\t\n\t\t\tlet createdVersion = await PackageAPI.addVersion(this.$route.params.packageId, this.versionData);\n\t\t\tif (createdVersion.status == 200) {\n\t\t\t\tlet fileUploadResult = await PackageAPI.uploadPackageFile(this.$route.params.packageId, createdVersion.data.id, this.selectedPackageFile);\n\t\t\t\tif (fileUploadResult.status != 200) bootbox.alert(`There was an error uploading the package file.<br>You need to manually upload the package file again through the Version manager.<br><br>${fileUploadResult.data.message}`);\n\t\t\t\t\n\t\t\t\tthis.$router.replace(`/packages/${this.$route.params.packageId}/versions/${createdVersion.data.id}`);\n\t\t\t} else {\n\t\t\t\tthis.isDoingWork = false;\n\t\t\t\tbootbox.alert(`There was an error creating the version.<br><br>${createdVersion.data.message}`);\n\t\t\t}\n\t\t}\n\t}\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VersionAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VersionAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VersionAdd.vue?vue&type=template&id=baa40d38&\"\nimport script from \"./VersionAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./VersionAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"VersionAdd.vue\"\nexport default component.exports"],"sourceRoot":""}