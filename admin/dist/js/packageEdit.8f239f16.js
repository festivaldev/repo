(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["packageEdit"],{"02f4":function(e,t,a){var n=a("4588"),r=a("be13");e.exports=function(e){return function(t,a){var i,s,c=String(r(t)),o=n(a),l=c.length;return o<0||o>=l?e?"":void 0:(i=c.charCodeAt(o),i<55296||i>56319||o+1===l||(s=c.charCodeAt(o+1))<56320||s>57343?e?c.charAt(o):i:e?c.slice(o,o+2):s-56320+(i-55296<<10)+65536)}}},"0390":function(e,t,a){"use strict";var n=a("02f4")(!0);e.exports=function(e,t,a){return t+(a?n(e,t).length:1)}},"0bfb":function(e,t,a){"use strict";var n=a("cb7c");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},1331:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=(0,n.regex)("integer",/^-?[0-9]*$/);t.default=r},"1c4c":function(e,t,a){"use strict";var n=a("9b43"),r=a("5ca1"),i=a("4bf8"),s=a("1fa8"),c=a("33a4"),o=a("9def"),l=a("f1ae"),u=a("27ee");r(r.S+r.F*!a("5cc5")(function(e){Array.from(e)}),"Array",{from:function(e){var t,a,r,d,f=i(e),p="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,h=void 0!==g,m=0,b=u(f);if(h&&(g=n(g,v>2?arguments[2]:void 0,2)),void 0==b||p==Array&&c(b))for(t=o(f.length),a=new p(t);t>m;m++)l(a,m,h?g(f[m],m):f[m]);else for(d=b.call(f),a=new p;!(r=d.next()).done;m++)l(a,m,h?s(d,g,[r.value,m],!0):r.value);return a.length=m,a}})},"214f":function(e,t,a){"use strict";a("b0c5");var n=a("2aba"),r=a("32e9"),i=a("79e5"),s=a("be13"),c=a("2b4c"),o=a("520a"),l=c("species"),u=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();e.exports=function(e,t,a){var f=c(e),p=!i(function(){var t={};return t[f]=function(){return 7},7!=""[e](t)}),v=p?!i(function(){var t=!1,a=/a/;return a.exec=function(){return t=!0,null},"split"===e&&(a.constructor={},a.constructor[l]=function(){return a}),a[f](""),!t}):void 0;if(!p||!v||"replace"===e&&!u||"split"===e&&!d){var g=/./[f],h=a(s,f,""[e],function(e,t,a,n,r){return t.exec===o?p&&!r?{done:!0,value:g.call(t,a,n)}:{done:!0,value:e.call(a,t,n)}:{done:!1}}),m=h[0],b=h[1];n(String.prototype,e,m),r(RegExp.prototype,f,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},"216c":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"mr-md-4"},[e._m(0),a("div",{staticClass:"collapse d-md-block",attrs:{id:"nav-toggleable-md"}},[a("ul",{staticClass:"nav nav-pills nav-stacked flex-column mb-4"},[a("li",{staticClass:"nav-header"},[e._v("Links")]),a("li",{staticClass:"nav-item mb-2"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/",tag:"p",exact:""}},[a("span",{staticClass:"icon icon-home"}),e._v("\n\t\t\t\t\tDashboard\n\t\t\t\t")])],1),e.isDeveloper||e.isModerator||e.isAdministrator?a("li",{staticClass:"nav-item mb-2"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/packages",tag:"p"}},[a("span",{staticClass:"icon icon-dropbox"}),e._v("\n\t\t\t\t\tPackages\n\t\t\t\t")])],1):e._e(),a("li",{staticClass:"nav-item mb-2"},[a("router-link",{staticClass:"nav-link disabled",class:{active:e.isActiveLink("/reviews")},attrs:{to:"/reviews",tag:"p"}},[a("span",{staticClass:"icon icon-chat"}),e._v("\n\t\t\t\t\tReviews\n\t\t\t\t")])],1),a("li",{staticClass:"nav-item mb-2"},[a("router-link",{staticClass:"nav-link disabled",class:{active:e.isActiveLink("/devices")},attrs:{to:"/devices",tag:"p"}},[a("span",{staticClass:"icon icon-tablet-mobile-combo"}),e._v("\n\t\t\t\t\tDevices\n\t\t\t\t")])],1),e.isModerator||e.isAdministrator?a("li",{staticClass:"nav-item mb-2"},[a("router-link",{staticClass:"nav-link disabled",class:{active:e.isActiveLink("/users")},attrs:{to:"/users",tag:"p"}},[a("span",{staticClass:"icon icon-users"}),e._v("\n\t\t\t\t\tUsers\n\t\t\t\t")])],1):e._e(),e.isModerator||e.isAdministrator?a("li",{staticClass:"nav-item mb-2"},[a("router-link",{staticClass:"nav-link disabled",class:{active:e.isActiveLink("/statistics")},attrs:{to:"/statistics",tag:"p"}},[a("span",{staticClass:"icon icon-line-graph"}),e._v("\n\t\t\t\t\tStatistics\n\t\t\t\t")])],1):e._e(),a("li",{staticClass:"nav-header"},[e._v("Actions")]),a("li",{staticClass:"nav-item"},[a("p",{staticClass:"nav-link",on:{click:function(t){e.signOut()}}},[a("span",{staticClass:"icon icon-log-out"}),e._v("\n\t\t\t\t\tSign Out\n\t\t\t\t")])])]),a("hr",{staticClass:"d-md-none"})])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"nav-logo m-b-md"},[a("button",{staticClass:"d-md-none navbar-toggle",attrs:{"data-toggle":"collapse","data-target":"#nav-toggleable-md"}}),a("p",{staticClass:"nav-link m-0",attrs:{href:"/"}},[a("img",{attrs:{src:"img/packr-icon.svg"}}),a("span",{staticClass:"ml-2"},[e._v("FESTIVAL Pack'd")])])])}],i=(a("a481"),a("96cf"),a("1da1")),s=(a("4917"),a("6457")),c=a.n(s),o={name:"navComp",data:function(){return{isAdministrator:!1,isModerator:!1,isDeveloper:!1}},created:function(){var e=this.$store.getters.userRole;this.isAdministrator=(e&c.a.ADMINISTRATOR)==c.a.ADMINISTRATOR,this.isModerator=(e&c.a.MODERATOR)==c.a.MODERATOR,this.isDeveloper=(e&c.a.DEVELOPER)==c.a.DEVELOPER},methods:{isActiveLink:function(e){var t=window.location.hash.match("#".concat(e));return t&&t.length},signOut:function(){var e=this;bootbox.confirm({title:"Sign out?",message:"Do you really want to sign out? All unsaved progress will be lost.",buttons:{confirm:{label:"Sign out",className:"btn-danger"},cancel:{label:"Cancel",className:"btn-secondary"}},callback:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a&&(e.$cookies.remove("authToken"),e.$router.replace("/login"));case 1:case"end":return t.stop()}},t,this)}));function a(e){return t.apply(this,arguments)}return a}()})}}},l=o,u=(a("c4da"),a("2877")),d=Object(u["a"])(l,n,r,!1,null,null,null);d.options.__file="Nav.vue";t["a"]=d.exports},2446:function(e,t,a){"use strict";var n=a("40bb"),r=a.n(n);r.a},"28a5":function(e,t,a){"use strict";var n=a("aae3"),r=a("cb7c"),i=a("ebd6"),s=a("0390"),c=a("9def"),o=a("5f1b"),l=a("520a"),u=Math.min,d=[].push,f="split",p="length",v="lastIndex",g=!!function(){try{return new RegExp("x","y")}catch(e){}}();a("214f")("split",2,function(e,t,a,h){var m=a;return"c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[p]||2!="ab"[f](/(?:ab)*/)[p]||4!="."[f](/(.?)(.?)/)[p]||"."[f](/()()/)[p]>1||""[f](/.?/)[p]?m=function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!n(e))return a.call(r,e,t);var i,s,c,o=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,g=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,u+"g");while(i=l.call(h,r)){if(s=h[v],s>f&&(o.push(r.slice(f,i.index)),i[p]>1&&i.index<r[p]&&d.apply(o,i.slice(1)),c=i[0][p],f=s,o[p]>=g))break;h[v]===i.index&&h[v]++}return f===r[p]?!c&&h.test("")||o.push(""):o.push(r.slice(f)),o[p]>g?o.slice(0,g):o}:"0"[f](void 0,0)[p]&&(m=function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)}),[function(a,n){var r=e(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,r,n):m.call(String(r),a,n)},function(e,t){var n=h(m,e,this,t,m!==a);if(n.done)return n.value;var l=r(e),d=String(this),f=i(l,RegExp),p=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(g?"y":"g"),b=new f(g?l:"^(?:"+l.source+")",v),k=void 0===t?4294967295:t>>>0;if(0===k)return[];if(0===d.length)return null===o(b,d)?[d]:[];var x=0,y=0,_=[];while(y<d.length){b.lastIndex=g?y:0;var D,C=o(b,g?d:d.slice(y));if(null===C||(D=u(c(b.lastIndex+(g?0:y)),d.length))===x)y=s(d,y,p);else{if(_.push(d.slice(x,y)),_.length===k)return _;for(var w=1;w<=C.length-1;w++)if(_.push(C[w]),_.length===k)return _;y=x=D}}return _.push(d.slice(x)),_}]})},"2a12":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=function(e){return(0,n.withParams)({type:"maxLength",max:e},function(t){return!(0,n.req)(t)||(0,n.len)(t)<=e})};t.default=r},"2fdb":function(e,t,a){"use strict";var n=a("5ca1"),r=a("d2c8"),i="includes";n(n.P+n.F*a("5147")(i),"String",{includes:function(e){return!!~r(this,e,i).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},3360:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.withParams)({type:"and"},function(){for(var e=this,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t.length>0&&t.reduce(function(t,a){return t&&a.apply(e,n)},!0)})};t.default=r},3851:function(e,t,a){"use strict";var n=a("cae5"),r=a.n(n);r.a},"3a54":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=(0,n.regex)("alphaNum",/^[a-zA-Z0-9]*$/);t.default=r},"40bb":function(e,t,a){},"456d":function(e,t,a){var n=a("4bf8"),r=a("0d58");a("5eda")("keys",function(){return function(e){return r(n(e))}})},"45b8":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=(0,n.regex)("numeric",/^[0-9]*$/);t.default=r},"46bc":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=function(e){return(0,n.withParams)({type:"maxValue",max:e},function(t){return!(0,n.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e})};t.default=r},4917:function(e,t,a){"use strict";var n=a("cb7c"),r=a("9def"),i=a("0390"),s=a("5f1b");a("214f")("match",1,function(e,t,a,c){return[function(a){var n=e(this),r=void 0==a?void 0:a[t];return void 0!==r?r.call(a,n):new RegExp(a)[t](String(n))},function(e){var t=c(a,e,this);if(t.done)return t.value;var o=n(e),l=String(this);if(!o.global)return s(o,l);var u=o.unicode;o.lastIndex=0;var d,f=[],p=0;while(null!==(d=s(o,l))){var v=String(d[0]);f[p]=v,""===v&&(o.lastIndex=i(l,r(o.lastIndex),u)),p++}return 0===p?null:f}]})},5147:function(e,t,a){var n=a("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[n]=!1,!"/./"[e](t)}catch(r){}}return!0}},"520a":function(e,t,a){"use strict";var n=a("0bfb"),r=RegExp.prototype.exec,i=String.prototype.replace,s=r,c="lastIndex",o=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e[c]||0!==t[c]}(),l=void 0!==/()??/.exec("")[1],u=o||l;u&&(s=function(e){var t,a,s,u,d=this;return l&&(a=new RegExp("^"+d.source+"$(?!\\s)",n.call(d))),o&&(t=d[c]),s=r.call(d,e),o&&s&&(d[c]=d.global?s.index+s[0].length:t),l&&s&&s.length>1&&i.call(s[0],a,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)}),s}),e.exports=s},"5d75":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/,i=(0,n.regex)("email",r);t.default=i},"5db3":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=function(e){return(0,n.withParams)({type:"minLength",min:e},function(t){return!(0,n.req)(t)||(0,n.len)(t)>=e})};t.default=r},"5df3":function(e,t,a){"use strict";var n=a("02f4")(!0);a("01f9")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,a=this._i;return a>=t.length?{value:void 0,done:!0}:(e=n(t,a),this._i+=e.length,{value:e,done:!1})})},"5e5d":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"file-drop-zone text-center",on:{dragenter:e.dropIn,dragover:e.dropIn,dragleave:e.dropOut,drop:e.dropFile}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.existingPackageIcon&&!e.selectedPackageIcon,expression:"!existingPackageIcon && !selectedPackageIcon"}],staticClass:"drop-zone-file-select",on:{click:e.openFileSelector}},[a("span",{staticClass:"select-file-text"},[a("label",{attrs:{for:"select-package"}},[e._v("Select File")]),a("label",[e._v("(.png)")]),a("input",{ref:"fileSelector",attrs:{type:"file",accept:"image/png"},on:{change:e.fileSelected}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.existingPackageIcon||e.selectedPackageIcon,expression:"existingPackageIcon || selectedPackageIcon"}],ref:"iconPreview",staticClass:"icon-preview",style:{"background-image":e.selectedIconBlob?"url("+e.selectedIconBlob+")":"url(/resources/icons/"+e.existingPackageIcon+")"},on:{click:e.clearPackageIcon}})])},r=[],i=(a("6762"),a("2fdb"),a("cadf"),a("551c"),a("097d"),a("b562")),s={name:"PackageIconSelector",props:["value","packageIcon"],data:function(){return{selectedPackageIcon:this.$props.value,selectedIconBlob:null,existingPackageIcon:null!==this.$props.packageIcon?this.$props.packageIcon:null}},methods:{dropIn:function(e){e.preventDefault(),e.stopPropagation(),e.target.classList.add("drop-in")},dropOut:function(e){e.preventDefault(),e.stopPropagation(),e.target.classList.remove("drop-in")},dropFile:function(e){e.preventDefault(),e.stopPropagation(),e.target.classList.remove("drop-in");var t=e.dataTransfer.files[0];["image/png"].includes(t.type)&&this.handleFile(t)},openFileSelector:function(){this.$refs["fileSelector"].click()},clearPackageIcon:function(){this.existingPackageIcon=null,this.selectedPackageIcon=null,this.$emit("input",this.selectedPackageIcon)},fileSelected:function(e){var t=e.target.files[0];this.handleFile(t)},handleFile:function(e){var t=this;this.selectedPackageIcon=e,this.$emit("input",this.selectedPackageIcon);var a=this.$refs.iconPreview,n=new FileReader;n.onload=function(e){var n=window.URL.createObjectURL(i["a"](e.target.result));t.selectedIconBlob=n,a.style.backgroundImage="url(".concat(n,")")},n.readAsArrayBuffer(e)}}},c=s,o=(a("3851"),a("2877")),l=Object(o["a"])(c,n,r,!1,null,"3eb526cb",null);l.options.__file="PackageIconSelector.vue";t["a"]=l.exports},"5eda":function(e,t,a){var n=a("5ca1"),r=a("8378"),i=a("79e5");e.exports=function(e,t){var a=(r.Object||{})[e]||Object[e],s={};s[e]=t(a),n(n.S+n.F*i(function(){a(1)}),"Object",s)}},"5f1b":function(e,t,a){"use strict";var n=a("23c6"),r=RegExp.prototype.exec;e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var i=a.call(e,t);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},6235:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=(0,n.regex)("alpha",/^[a-zA-Z]*$/);t.default=r},6417:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=function(e){return(0,n.withParams)({type:"not"},function(t,a){return!(0,n.req)(t)||!e.call(this,t,a)})};t.default=r},6762:function(e,t,a){"use strict";var n=a("5ca1"),r=a("c366")(!0);n(n.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"772d":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[\/?#]\S*)?$/i,i=(0,n.regex)("url",r);t.default=i},"78ef":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return n.default}}),t.regex=t.ref=t.len=t.req=void 0;var n=r(a("8750"));function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var s=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===i(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=s;var c=function(e){return Array.isArray(e)?e.length:"object"===i(e)?Object.keys(e).length:String(e).length};t.len=c;var o=function(e,t,a){return"function"===typeof e?e.call(t,a):a[e]};t.ref=o;var l=function(e,t){return(0,n.default)({type:e},function(e){return!s(e)||t.test(e)})};t.regex=l},"7f7f":function(e,t,a){var n=a("86cc").f,r=Function.prototype,i=/^\s*function ([^ (]*)/,s="name";s in r||a("9e1e")&&n(r,s,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},8750:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="web"===Object({NODE_ENV:"production",BASE_URL:"/admin/"}).BUILD?a("cb69").withParams:a("0234").withParams,r=n;t.default=r},"91d3":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,n.withParams)({type:"macAddress"},function(t){if(!(0,n.req)(t))return!0;if("string"!==typeof t)return!1;var a="string"===typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==a&&(6===a.length||8===a.length)&&a.every(i)})};t.default=r;var i=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},a481:function(e,t,a){"use strict";var n=a("cb7c"),r=a("4bf8"),i=a("9def"),s=a("4588"),c=a("0390"),o=a("5f1b"),l=Math.max,u=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,v=function(e){return void 0===e?e:String(e)};a("214f")("replace",2,function(e,t,a,g){return[function(n,r){var i=e(this),s=void 0==n?void 0:n[t];return void 0!==s?s.call(n,i,r):a.call(String(i),n,r)},function(e,t){var r=g(a,e,this,t);if(r.done)return r.value;var d=n(e),f=String(this),p="function"===typeof t;p||(t=String(t));var m=d.global;if(m){var b=d.unicode;d.lastIndex=0}var k=[];while(1){var x=o(d,f);if(null===x)break;if(k.push(x),!m)break;var y=String(x[0]);""===y&&(d.lastIndex=c(f,i(d.lastIndex),b))}for(var _="",D=0,C=0;C<k.length;C++){x=k[C];for(var w=String(x[0]),P=l(u(s(x.index),f.length),0),S=[],O=1;O<x.length;O++)S.push(v(x[O]));var $=x.groups;if(p){var j=[w].concat(S,P,f);void 0!==$&&j.push($);var I=String(t.apply(void 0,j))}else I=h(w,f,P,S,$,t);P>=D&&(_+=f.slice(D,P)+I,D=P+w.length)}return _+f.slice(D)}];function h(e,t,n,i,s,c){var o=n+e.length,l=i.length,u=p;return void 0!==s&&(s=r(s),u=f),a.call(c,u,function(a,r){var c;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(o);case"<":c=s[r.slice(1,-1)];break;default:var u=+r;if(0===u)return r;if(u>l){var f=d(u/10);return 0===f?r:f<=l?void 0===i[f-1]?r.charAt(1):i[f-1]+r.charAt(1):r}c=i[u-1]}return void 0===c?"":c})}})},aa82:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=function(e){return(0,n.withParams)({type:"requiredIf",prop:e},function(t,a){return!(0,n.ref)(e,this,a)||(0,n.req)(t)})};t.default=r},aae3:function(e,t,a){var n=a("d3f4"),r=a("2d95"),i=a("2b4c")("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==r(e))}},ac6a:function(e,t,a){for(var n=a("cadf"),r=a("0d58"),i=a("2aba"),s=a("7726"),c=a("32e9"),o=a("84f2"),l=a("2b4c"),u=l("iterator"),d=l("toStringTag"),f=o.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=r(p),g=0;g<v.length;g++){var h,m=v[g],b=p[m],k=s[m],x=k&&k.prototype;if(x&&(x[u]||c(x,u,f),x[d]||c(x,d,m),o[m]=f,b))for(h in n)x[h]||i(x,h,n[h],!0)}},b0c5:function(e,t,a){"use strict";var n=a("520a");a("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},b562:function(e,t,a){"use strict";function n(e,t){e=e||[],t=t||{},"string"===typeof t&&(t={type:t});try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var a="undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,n=new a,r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}function r(e,t){return n([e],t)}a.d(t,"a",function(){return r})},b5ae:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"alpha",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"alphaNum",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"numeric",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"between",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"email",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"ipAddress",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"macAddress",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"maxLength",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"minLength",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"required",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"requiredIf",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"requiredUnless",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"sameAs",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"url",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"or",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"and",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"not",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"minValue",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"maxValue",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"integer",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"decimal",{enumerable:!0,get:function(){return D.default}}),t.helpers=void 0;var n=P(a("6235")),r=P(a("3a54")),i=P(a("45b8")),s=P(a("ec11")),c=P(a("5d75")),o=P(a("c99d")),l=P(a("91d3")),u=P(a("2a12")),d=P(a("5db3")),f=P(a("d4f4")),p=P(a("aa82")),v=P(a("e652")),g=P(a("b6cb")),h=P(a("772d")),m=P(a("d294")),b=P(a("3360")),k=P(a("6417")),x=P(a("eb66")),y=P(a("46bc")),_=P(a("1331")),D=P(a("c301")),C=w(a("78ef"));function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}t.helpers=C},b6cb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=function(e){return(0,n.withParams)({type:"sameAs",eq:e},function(t,a){return t===(0,n.ref)(e,this,a)})};t.default=r},c301:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=(0,n.regex)("decimal",/^[-]?\d*(\.\d+)?$/);t.default=r},c4cf:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("Nav")],1),a("div",{staticClass:"col-md-9"},[e.packageData&&e.packageData.status?e._e():a("div",[e._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 text-left"},[a("button",{staticClass:"btn btn-danger",attrs:{disabled:!e.$v.$anyDirty||e.isDoingWork},on:{click:function(t){e.cancel()}}},[a("span",{staticClass:"icon icon-squared-cross"}),e._v("\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t")])]),a("div",{staticClass:"col-6 row p-0 justify-content-end text-right"},[e.isDoingWork?a("div",{staticClass:"col p-0 pr-3"},[a("div",{staticClass:"loading-indicator"})]):e._e(),a("div",{staticClass:"col-auto p-0"},[a("button",{staticClass:"btn btn-primary",attrs:{disabled:e.$v.$invalid||!e.$v.$anyDirty||e.isDoingWork},on:{click:function(t){e.savePackage()}}},[a("span",{staticClass:"icon icon-save"}),e._v("\t\n\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t")])])])])]),e.packageData&&404==e.packageData.status?a("div",[a("vue-headful",{attrs:{title:"Package not found – FESTIVAL Pack'd"}}),a("h4",[e._v("Package not found")]),a("p",[e._v('Could not retrieve info for package "'+e._s(e.$route.params.packageId)+'"')])],1):e._e(),e.packageData&&!e.packageData.status?a("div",[a("vue-headful",{attrs:{title:e.packageData.name+" – FESTIVAL Pack'd"}}),a("form",{attrs:{name:"editPackageForm",novalidate:""}},[a("h4",{staticClass:"my-4"},[e._v("General Info")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 form-group"},[a("label",[e._v("Package Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.packageData.name,expression:"packageData.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Example Package",maxlength:"50",autocomplete:"off",disabled:e.isDoingWork},domProps:{value:e.packageData.name},on:{input:[function(t){t.target.composing||e.$set(e.packageData,"name",t.target.value)},function(t){e.$v.$touch()}]}}),a("p",{staticClass:"text-muted text-right m-b-0"},[e._v(e._s(50-e.packageData.name.length))])]),a("div",{staticClass:"col-md-6 form-group"},[a("label",[e._v("Bundle Identifier")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.packageData.identifier,expression:"packageData.identifier"}],staticClass:"form-control",attrs:{type:"text",placeholder:"com.example.package",maxlength:"50",autocomplete:"off",disabled:""},domProps:{value:e.packageData.identifier},on:{input:[function(t){t.target.composing||e.$set(e.packageData,"identifier",t.target.value)},function(t){e.$v.$touch()}]}}),a("p",{staticClass:"text-muted text-right m-b-0"},[e._v(e._s(50-e.packageData.identifier.length))])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 form-group"},[a("label",{attrs:{for:"login-password"}},[e._v("Short Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.packageData.shortDescription,expression:"packageData.shortDescription"}],staticClass:"form-control",staticStyle:{height:"100px"},attrs:{maxlength:"255",autocomplete:"off",disabled:e.isDoingWork},domProps:{value:e.packageData.shortDescription},on:{input:[function(t){t.target.composing||e.$set(e.packageData,"shortDescription",t.target.value)},function(t){e.$v.$touch()}]}}),a("p",{staticClass:"text-muted text-right m-b-0"},[e._v(e._s(255-e.packageData.shortDescription.length))]),a("label",[e._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.packageData.detailedDescription,expression:"packageData.detailedDescription"}],staticClass:"form-control",staticStyle:{height:"250px"},attrs:{name:"detailedDescription",maxlength:"4000",autocomplete:"off",disabled:e.isDoingWork},domProps:{value:e.packageData.detailedDescription},on:{input:[function(t){t.target.composing||e.$set(e.packageData,"detailedDescription",t.target.value)},function(t){e.$v.$touch()}]}}),a("div",{staticClass:"row"},[e._m(1),a("div",{staticClass:"col-3"},[a("p",{staticClass:"text-muted text-right m-b-0"},[e._v(e._s(4e3-e.packageData.detailedDescription.length))])])])]),a("div",{staticClass:"col-md-6 form-group"},[a("label",[e._v("Support URL")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.packageData.bugsReportURL,expression:"packageData.bugsReportURL"}],staticClass:"form-control mb-4",attrs:{type:"text",placeholder:"http://example.com (optional)",autocomplete:"off",disabled:e.isDoingWork},domProps:{value:e.packageData.bugsReportURL},on:{input:[function(t){t.target.composing||e.$set(e.packageData,"bugsReportURL",t.target.value)},function(t){e.$v.$touch()}]}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("label",[e._v("Minimum OS")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.packageData.minOSVersion,expression:"packageData.minOSVersion"}],staticClass:"form-control",attrs:{type:"text",placeholder:"11.0",maxlength:"30",autocomplete:"off",disabled:e.isDoingWork},domProps:{value:e.packageData.minOSVersion},on:{input:[function(t){t.target.composing||e.$set(e.packageData,"minOSVersion",t.target.value)},function(t){e.$v.$touch()}]}})]),a("div",{staticClass:"col-6"},[a("label",[e._v("Maximum OS")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.packageData.maxOSVersion,expression:"packageData.maxOSVersion"}],staticClass:"form-control",attrs:{type:"text",placeholder:"11.3.1",maxlength:"30",autocomplete:"off",disabled:e.isDoingWork},domProps:{value:e.packageData.maxOSVersion},on:{input:[function(t){t.target.composing||e.$set(e.packageData,"maxOSVersion",t.target.value)},function(t){e.$v.$touch()}]}})])])])]),a("div",{staticClass:"row justify-content-between"},[a("div",{staticClass:"col-6 col-md-3 mt-4 mt-md-0"},[a("h4",{staticClass:"mb-4"},[e._v("Store Icon")]),void 0!==e.packageData.icon?a("PackageIconSelector",{class:{disabled:e.isDoingWork},attrs:{packageIcon:e.packageData.icon},on:{input:e.iconChanged},model:{value:e.selectedPackageIcon,callback:function(t){e.selectedPackageIcon=t},expression:"selectedPackageIcon"}}):e._e()],1),a("div",{staticClass:"list-group col-md-6 mt-4 mt-md-0 m-b px-3"},[a("h4",{staticClass:"mb-4"},[e._v("Options")]),a("div",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[e._m(2),a("div",{staticClass:"col-auto p-0"},[a("SwitchCheckbox",{class:{disabled:e.isDoingWork},attrs:{checkboxName:"visible"},on:{input:function(t){e.$v.$touch()}},model:{value:e.packageData.visible,callback:function(t){e.$set(e.packageData,"visible",t)},expression:"packageData.visible"}})],1)])])]),a("h4",{staticClass:"my-4"},[e._v("Screenshots")]),e.screenshots?a("ScreenshotSelector",{staticClass:"d-none d-md-block",class:{working:e.isDoingWork},attrs:{deletedScreenshots:e.deletedScreenshots,packageObj:e.packageData},on:{touched:function(t){e.$v.$touch()}},model:{value:e.screenshots,callback:function(t){e.screenshots=t},expression:"screenshots"}}):e._e(),a("p",{staticClass:"d-md-none"},[e._v("To manage screenshots, open Pack'd on your desktop computer.")])],1),a("div",{staticClass:"row my-4"},[e._m(3),a("div",{staticClass:"col-4 text-right"},[a("router-link",{staticClass:"btn btn-primary",attrs:{tag:"button",to:"/packages/"+e.packageData.identifier+"/versions/add"}},[a("span",{staticClass:"icon icon-new-message"}),e._v("\n\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t")])],1)]),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"tablesort",attrs:{"data-sort":"table"}},[e._m(4),a("tbody",[e._l(e.versionData,function(t){return a("router-link",{key:t.id,attrs:{tag:"tr",to:"/packages/"+e.$route.params.packageId+"/versions/"+t.version}},[a("td",[e._v(e._s(t.version))]),a("td",[a("SwitchCheckbox",{model:{value:t.visible,callback:function(a){e.$set(t,"visible",a)},expression:"versionObj.visible"}})],1),a("td",{staticClass:"d-none d-md-table-cell"},[e._v(e._s(e._f("date")(t.createdAt)))]),a("td",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-outline-danger",attrs:{disabled:e.versionData.length<=1},on:{click:function(a){a.preventDefault(),e.deleteVersion(t.id)}}},[a("span",{staticClass:"icon icon-trash"})])])])}),e.versionData.length?e._e():a("tr",[a("td",[e._v("This package doesnt have any versions.")])])],2)])])],1):e._e()])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashhead mb-3"},[a("div",{staticClass:"dashhead-titles"},[a("h6",{staticClass:"dashhead-subtitle"},[e._v("Packages")]),a("h2",{staticClass:"dashhead-title"},[e._v("Edit Package")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-9"},[a("p",{staticClass:"text-muted text-left m-b-0"},[e._v("Descriptions support HTML")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-auto p-0"},[a("p",{staticClass:"m-0"},[e._v("Package is visible")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-8"},[a("h4",{},[e._v("Versions")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",{staticClass:"header"},[e._v("Version")]),a("th",{staticClass:"header"},[e._v("Visible")]),a("th",{staticClass:"header sorter-mmddyy d-none d-md-table-cell"},[e._v("Created")]),a("th",{staticClass:"tablesorter-noSort text-right"},[e._v("Actions")])])])}],i=(a("a481"),a("2fdb"),a("6762"),a("ac6a"),a("456d"),a("96cf"),a("1da1")),s=(a("cadf"),a("551c"),a("097d"),a("b562"),a("216c")),c=a("f051"),o=a("5e5d"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"screenshot-container",class:{working:e.isDoingWork},attrs:{"ngf-drop":"fileSelected($files, currentDevice)"}},[a("div",{staticClass:"screenshot-header"},[a("ul",{staticClass:"tab-group"},[a("li",{staticClass:"tab-group-item iphone-55",class:{current:"iphone"==e.currentDevice},on:{click:function(t){e.setCurrentDevice("iphone")}}},[a("a",{attrs:{href:""},on:{click:function(e){e.preventDefault()}}},[a("div",{staticClass:"tab-bg"}),e._m(0)])]),a("li",{staticClass:"tab-group-item ipad-129",class:{current:"ipad"==e.currentDevice},on:{click:function(t){e.setCurrentDevice("ipad")}}},[a("a",{attrs:{href:""},on:{click:function(e){e.preventDefault()}}},[a("div",{staticClass:"tab-bg"}),e._m(1)])])])]),a("div",{staticClass:"screenshot-scroll-wrapper",on:{dragenter:e.dropIn,dragover:e.dropIn,dragleave:e.dropOut,drop:e.dropFile}},[e.screenshots[e.currentDevice].length?e._e():a("span",{staticClass:"drop-text"},[a("p",[e._v("Drag up to 10 screenshots here.")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.screenshots[e.currentDevice].length,expression:"screenshots[currentDevice].length"}],staticClass:"screenshot-scroll-container"},e._l(e.screenshots[e.currentDevice],function(t,n){return a("div",{staticClass:"screenshot",on:{click:function(a){e.deleteScreenshot(t,n,e.currentDevice)}}},[a("img",{attrs:{src:"/resources/screenshots/"+e.packageData.id+"_"+t+"~"+e.currentDevice+".png"}})])}),0)]),a("div",{staticClass:"screenshot-footer"},[a("div",{staticClass:"screenshot-action"},[e._v(e._s(e.screenshots[e.currentDevice].length||"0")+" out of 10 Screenshots")]),a("div",{staticClass:"screenshot-action"},[a("label",{staticClass:"m-b-0",class:{disabled:e.screenshots[e.currentDevice].length>=10},attrs:{for:"screenshot-selector"}},[e._v("Choose File")]),a("input",{staticStyle:{position:"absolute",top:"80%",left:"-9999px"},attrs:{id:"screenshot-selector",multiple:"",type:"file",accept:"image/png"},on:{change:function(t){e.fileSelected(t.target.files,e.currentDevice)}}})])])])},u=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-content-container"},[a("p",{staticClass:"tab-content"}),a("p",{staticClass:"tab-content"},[e._v("iPhone")]),a("p",{staticClass:"tab-content"},[e._v('4.7" / 5.5" / 5.8"')])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-content-container"},[a("p",{staticClass:"tab-content"}),a("p",{staticClass:"tab-content"},[e._v("iPad")]),a("p",{staticClass:"tab-content"},[e._v('9.7" / 10.5" / 12.9"')])])}],d=(a("7f7f"),a("28a5"),a("5df3"),a("1c4c"),a("df7c"),a("a1ef")),f={ipad:["1024x768","768x1024","2048x1536","1536x2048","2224x1668","1668x2224","2732x2048","2048x2732"],iphone:["960x640","640x960","1136x640","640x1136","1334x750","750x1334","828x1472","1472x828","2208x1242","1242x2208","2436x1125","1125x2436"]},p={name:"ScreenshotSelector",props:["value","deletedScreenshots","packageObj"],data:function(){return{screenshots:this.$props.value,deletedFiles:this.$props.deletedScreenshots,packageData:this.$props.packageObj,currentDevice:"iphone",isDoingWork:!1}},methods:{dropIn:function(e){e.preventDefault(),e.stopPropagation(),e.target.classList.add("drop-in")},dropOut:function(e){e.preventDefault(),e.stopPropagation(),e.target.classList.remove("drop-in")},dropFile:function(e){e.preventDefault(),e.stopPropagation(),e.target.classList.remove("drop-in");var t=e.dataTransfer.files[0];["image/png"].includes(t.type)&&this.fileSelected([t],this.currentDevice)},setCurrentDevice:function(e){this.currentDevice=e},fileSelected:function(e,t){var a=this;this.isDoingWork=!0,Array.from(e).forEach(function(n,r){var s=new FileReader;s.onload=function(){var c=new Image;c.onload=Object(i["a"])(regeneratorRuntime.mark(function i(){var s,o;return regeneratorRuntime.wrap(function(i){while(1)switch(i.prev=i.next){case 0:if(!(f[t].indexOf("".concat(c.width,"x").concat(c.height))>=0)){i.next=12;break}return a.screenshots[t]||(a.screenshots[t]=[]),s=n.name.split(".").slice(0,-1).join("."),i.next=5,d["d"].uploadPackageScreenshot(a.$route.params.packageId,n,"".concat(a.packageData.id,"_").concat(s,"~").concat(t,".png"));case 5:if(o=i.sent,200==o.status){i.next=8;break}return i.abrupt("return",bootbox.alert("There was an error uploading one or more screenshots"));case 8:a.screenshots[t].push(s),r==e.length-1&&setTimeout(function(){a.isDoingWork=!1},200),i.next=13;break;case 12:a.isDoingWork=!1;case 13:case"end":return i.stop()}},i,this)})),c.src=s.result},s.readAsDataURL(n)}),this.$emit("touched")},deleteScreenshot:function(e,t,a){this.deletedFiles.push("".concat(this.packageData.id,"_").concat(e,"~").concat(a,".png")),this.screenshots[a].splice(t,1),this.$emit("touched")}}},v=p,g=a("2877"),h=Object(g["a"])(v,l,u,!1,null,null,null);h.options.__file="ScreenshotSelector.vue";var m=h.exports,b=a("b5ae"),k=function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,a){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=7;break}return e.next=4,a(t[n],n);case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),x={name:"packageEdit",components:{Nav:s["a"],SwitchCheckbox:c["a"],PackageIconSelector:o["a"],ScreenshotSelector:m},data:function(){return{packageData:null,selectedPackageIcon:null,selectedIconBlob:null,screenshots:null,deletedScreenshots:[],versionData:[],isDoingWork:!1}},validations:{packageData:{name:{required:b["required"]},identifier:{required:b["required"]},shortDescription:{required:b["required"]},detailedDescription:{required:b["required"]},minOSVersion:{required:b["required"]}}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isDoingWork=!0,e.next=3,d["d"].getPackage(this.$route.params.packageId);case 3:if(t=e.sent,200!=t.status){e.next=15;break}return a=["id","name","identifier","shortDescription","detailedDescription","bugsReportURL","minOSVersion","maxOSVersion","visible","icon"],this.packageData=Object.keys(t.data).filter(function(e){return a.includes(e)}).reduce(function(e,a){return e[a]=t.data[a],e},{}),this.screenshots=JSON.parse(t.data.screenshots),e.next=10,d["d"].getPackageVersions(this.$route.params.packageId);case 10:n=e.sent,this.versionData=n.data,this.isDoingWork=!1,e.next=17;break;case 15:this.packageData={status:t.status},this.isDoingWork=!1;case 17:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){window.scrollTo(0,0)},filters:{date:function(e){return new Date(e).toLocaleDateString("en-US")}},methods:{cancel:function(){var e=this;bootbox.confirm({title:"Canel?",message:"Are you sure you want to cancel? All unsaved progress will be lost.",buttons:{confirm:{label:"OK",className:"btn-danger"},cancel:{label:"Cancel",className:"btn-secondary"}},callback:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a&&e.$router.replace("/packages/");case 1:case"end":return t.stop()}},t,this)}));function a(e){return t.apply(this,arguments)}return a}()})},savePackage:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,a,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isDoingWork=!0,this.packageData.screenshots=JSON.stringify(this.screenshots),e.next=4,d["d"].updatePackage(this.$route.params.packageId,this.packageData);case 4:if(t=e.sent,200!=t.status){e.next=18;break}if(this.deletedScreenshots.length&&k(this.deletedScreenshots,function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["d"].deletePackageScreenshot(n.$route.params.packageId,t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),!this.selectedPackageIcon){e.next=14;break}return e.next=10,d["d"].uploadPackageIcon(this.$route.params.packageId,this.selectedPackageIcon);case 10:if(a=e.sent,200==a.status){e.next=14;break}return this.isDoingWork=!1,e.abrupt("return",bootbox.alert("There was an error uploading the package icon.<br>You need to manually upload the package icon again through the Package editor.<br><br>".concat(a.data.message)));case 14:this.$v.$reset(),this.isDoingWork=!1,e.next=20;break;case 18:this.isDoingWork=!1,bootbox.alert("There was an error updating the package.<br><br>".concat(t.data.message));case 20:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),deleteVersion:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this,bootbox.confirm({title:"Delete Version?",message:"Are you sure you want to delete this version?<br>This action cannot be undone.",buttons:{confirm:{label:"Delete",className:"btn-danger"},cancel:{label:"Cancel",className:"btn-secondary"}},callback:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(n){var r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=10;break}return e.next=3,d["d"].deletePackageVersion(a.$route.params.packageId,t);case 3:if(r=e.sent,200==r.status){e.next=6;break}return e.abrupt("return",bootbox.alert("There was an error deleting this version.<br><br>".concat(r.data.message)));case 6:return e.next=8,d["d"].getPackageVersions(a.$route.params.packageId);case 8:i=e.sent,a.versionData=i.data;case 10:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}()});case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),iconChanged:function(e){this.$v.$touch(),this.packageData.icon=e?"".concat(this.packageData.id,".png"):""}}},y=x,_=(a("2446"),Object(g["a"])(y,n,r,!1,null,"f9750b0e",null));_.options.__file="PackageEdit.vue";t["default"]=_.exports},c4da:function(e,t,a){"use strict";var n=a("d432"),r=a.n(n);r.a},c99d:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=(0,n.withParams)({type:"ipAddress"},function(e){if(!(0,n.req)(e))return!0;if("string"!==typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(i)});t.default=r;var i=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},cae5:function(e,t,a){},cb69:function(e,t,a){"use strict";(function(e){function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.withParams=void 0;var n="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},r=function(e,t){return"object"===a(e)&&void 0!==t?t:e(function(){})},i=n.vuelidate?n.vuelidate.withParams:r;t.withParams=i}).call(this,a("c8ba"))},d294:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.withParams)({type:"or"},function(){for(var e=this,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t.length>0&&t.reduce(function(t,a){return t||a.apply(e,n)},!1)})};t.default=r},d2c8:function(e,t,a){var n=a("aae3"),r=a("be13");e.exports=function(e,t,a){if(n(t))throw TypeError("String#"+a+" doesn't accept regex!");return String(r(e))}},d432:function(e,t,a){},d4f4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=(0,n.withParams)({type:"required"},n.req);t.default=r},e652:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=function(e){return(0,n.withParams)({type:"requiredUnless",prop:e},function(t,a){return!!(0,n.ref)(e,this,a)||(0,n.req)(t)})};t.default=r},eb66:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=function(e){return(0,n.withParams)({type:"minValue",min:e},function(t){return!(0,n.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e})};t.default=r},ec11:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("78ef"),r=function(e,t){return(0,n.withParams)({type:"between",min:e,max:t},function(a){return!(0,n.req)(a)||(!/\s/.test(a)||a instanceof Date)&&+e<=+a&&+t>=+a})};t.default=r},f051:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"switch"},[a("div",{staticClass:"switcher",class:{checked:e.value},on:{click:function(t){e.toggle()}}},[a("input",{attrs:{type:"checkbox",name:e.checkboxName,id:e.checkboxName},domProps:{checked:e.checked},on:{input:function(t){e.updateValue(t.target.checked)}}}),a("div",{staticClass:"switch-inner"})])])},r=[],i={name:"SwitchCheckbox",props:["checkboxName","value"],data:function(){return{checked:this.$props.value}},updated:function(){this.checked=this.$props.value},methods:{toggle:function(e){this.checked=!this.checked,this.$emit("input",this.checked)}}},s=i,c=a("2877"),o=Object(c["a"])(s,n,r,!1,null,null,null);o.options.__file="SwitchCheckbox.vue";t["a"]=o.exports},f1ae:function(e,t,a){"use strict";var n=a("86cc"),r=a("4630");e.exports=function(e,t,a){t in e?n.f(e,t,r(0,a)):e[t]=a}}}]);
//# sourceMappingURL=packageEdit.8f239f16.js.map