(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{5330:function(e,s,a){},5501:function(e,s,a){"use strict";var t=a("5330"),r=a.n(t);r.a},"73cf":function(e,s,a){"use strict";a.r(s);var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",[a("vue-headful",{attrs:{title:"Register â€“ FESTIVAL Pack'd"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-around"},[a("div",{staticClass:"col-md-4"},[e._m(0),a("hr"),a("form",{attrs:{name:"registerForm",novalidate:""}},[a("div",{staticClass:"form-group"},[a("label",[e._v("Username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-control",class:{invalid:e.$v.user.username.$dirty&&!e.$v.user.username.required||e.authData&&409==e.authData.status},attrs:{type:"text",placeholder:"John Appleseed"},domProps:{value:e.user.username},on:{input:[function(s){s.target.composing||e.$set(e.user,"username",s.target.value)},function(s){e.$v.user.username.$touch()}]}}),e.$v.user.username.$dirty&&!e.$v.user.username.required?a("span",{staticClass:"text-danger"},[e._v("Requried field")]):e._e(),e.authData&&409==e.authData.status?a("span",{staticClass:"text-danger"},[e._v("Username already in use")]):e._e()]),a("div",{staticClass:"form-group mt-5"},[a("label",[e._v("E-Mail Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"form-control",class:{invalid:e.$v.user.email.$dirty&&!e.$v.user.email.required||e.authData&&409==e.authData.status},attrs:{type:"email",placeholder:"johnappleseed@example.com"},domProps:{value:e.user.email},on:{input:[function(s){s.target.composing||e.$set(e.user,"email",s.target.value)},function(s){e.$v.user.email.$touch()}]}}),e.$v.user.email.$dirty&&!e.$v.user.email.required?a("span",{staticClass:"text-danger"},[e._v("Requried field")]):e._e(),e.$v.user.email.$dirty&&!e.$v.user.email.email?a("span",{staticClass:"text-danger"},[e._v("Invalid E-Mail address")]):e._e(),e.authData&&409==e.authData.status?a("span",{staticClass:"text-danger"},[e._v("E-Mail address already in use")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v("Confirm E-Mail Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.emailConf,expression:"user.emailConf"}],staticClass:"form-control",class:{invalid:e.$v.user.emailConf.$dirty&&!e.$v.user.emailConf.required},attrs:{type:"email",placeholder:"johnappleseed@example.com"},domProps:{value:e.user.emailConf},on:{input:[function(s){s.target.composing||e.$set(e.user,"emailConf",s.target.value)},function(s){e.$v.user.emailConf.$touch()}]}}),e.$v.user.emailConf.$dirty&&!e.$v.user.emailConf.required?a("span",{staticClass:"text-danger"},[e._v("Requried field")]):e._e(),e.$v.user.emailConf.$dirty&&!e.$v.user.emailConf.sameAsEmail?a("span",{staticClass:"text-danger"},[e._v("E-Mail addresses do not match")]):e._e()]),a("div",{staticClass:"form-group mt-5"},[a("label",[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",class:{invalid:e.$v.user.password.$dirty&&!e.$v.user.password.required},attrs:{type:"password",placeholder:"Required"},domProps:{value:e.user.password},on:{input:[function(s){s.target.composing||e.$set(e.user,"password",s.target.value)},function(s){e.$v.user.password.$touch()}]}}),e.$v.user.password.$dirty&&!e.$v.user.password.required?a("span",{staticClass:"text-danger"},[e._v("Requried field")]):e._e(),e.$v.user.password.$dirty&&!e.$v.user.password.minLength?a("span",{staticClass:"text-danger"},[e._v("Password too short")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v("Confirm Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.passwordConf,expression:"user.passwordConf"}],staticClass:"form-control",class:{invalid:e.$v.user.passwordConf.$dirty&&!e.$v.user.passwordConf.required},attrs:{type:"password",placeholder:"Required"},domProps:{value:e.user.passwordConf},on:{input:[function(s){s.target.composing||e.$set(e.user,"passwordConf",s.target.value)},function(s){e.$v.user.passwordConf.$touch()}]}}),e.$v.user.passwordConf.$dirty&&!e.$v.user.passwordConf.required?a("span",{staticClass:"text-danger"},[e._v("Requried field")]):e._e(),e.$v.user.passwordConf.$dirty&&!e.$v.user.passwordConf.sameAsPassword?a("span",{staticClass:"text-danger"},[e._v("Passwords do not match")]):e._e()])]),a("div",{staticClass:"row mt-5 d-none d-md-flex"},[a("div",{staticClass:"col col-auto"},[a("button",{staticClass:"btn btn-primary",attrs:{disabled:e.$v.user.$invalid||e.isWorking},on:{click:function(s){e.register()}}},[e._v("Register")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isWorking,expression:"!isWorking"}],staticClass:"col text-right"},[a("router-link",{staticClass:"btn btn-link mt-2 p-0",attrs:{tag:"button",to:"/login"}},[e._v("Already have an account?")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isWorking,expression:"isWorking"}],staticClass:"col text-right"},[a("div",{staticClass:"loading-indicator"})])]),a("div",{staticClass:"row mt-5 d-md-none"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isWorking,expression:"!isWorking"}],staticClass:"col col-12"},[a("button",{staticClass:"btn btn-block btn-primary",attrs:{disabled:e.$v.user.$invalid||e.isWorking},on:{click:function(s){e.register()}}},[e._v("Register")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isWorking,expression:"!isWorking"}],staticClass:"col col-12 mt-3 text-center"},[a("router-link",{staticClass:"btn btn-link mt-2 p-0",attrs:{tag:"button",to:"/login"}},[e._v("Already have an account?")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isWorking,expression:"isWorking"}],staticClass:"col col-12 text-center"},[a("div",{staticClass:"loading-indicator"})])])])])])],1)},r=[function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("nav",[a("div",{staticClass:"nav-logo pb-0"},[a("div",{staticClass:"nav-link"},[a("img",{attrs:{src:"img/packr-icon.svg"}}),a("span",{staticClass:"ml-2"},[e._v("FESTIVAL Pack'd")])])])])}],i=(a("6b54"),a("a481"),a("96cf"),a("1da1")),n=(a("cadf"),a("551c"),a("097d"),a("0934")),o=a.n(n),u=a("a1ef"),l=a("b5ae"),d={name:"register",data:function(){return{user:{username:"",email:"",emailConf:"",password:"",passwordConf:""},isWorking:!1,authData:null}},validations:{user:{username:{required:l["required"]},email:{required:l["required"],email:l["email"]},emailConf:{required:l["required"],sameAsEmail:Object(l["sameAs"])("email")},password:{required:l["required"],minLength:Object(l["minLength"])(8)},passwordConf:{required:l["required"],sameAsPassword:Object(l["sameAs"])("password")}}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$cookies.get("authToken")&&(this.$route.query.next?this.$router.replace(this.$route.query.next):this.$router.replace("/"));case 1:case"end":return e.stop()}},e,this)}));function s(){return e.apply(this,arguments)}return s}(),mounted:function(){window.scrollTo(0,0)},methods:{register:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isWorking=!0,e.next=3,u["b"].register({username:this.user.username,email:this.user.email,password:o.a.SHA256(this.user.password).toString(o.a.enc.Hex)});case 3:s=e.sent,200==s.status?(this.$cookies.set("authToken",s.data["token"],function(){var e=new Date;return e.setHours(e.getHours()+2),e}()),this.$router.replace("/")):(this.authData={status:s.status,message:s.data.message},this.isWorking=!1,500==s.status&&bootbox.alert("There was an error creating your account:<br>".concat(s.data.message)));case 5:case"end":return e.stop()}},e,this)}));function s(){return e.apply(this,arguments)}return s}()}},c=d,m=(a("5501"),a("2877")),v=Object(m["a"])(c,t,r,!1,null,"7d66b146",null);v.options.__file="Register.vue";s["default"]=v.exports}}]);
//# sourceMappingURL=register.d9bf88fa.js.map